<a 
    [routerLink]="['/app/products/product', product.idProduct]"
    class="group"
>
    <img 
        src="{{ product.images[0].url }}"
        alt="{{ product.images[0].description }}"
        class="aspect-square w-full rounded-lg bg-gray-200 object-cover group-hover:opacity-75 xl:aspect-7/8"
        loading="lazy"
    >
    <h3 class="mt-4 text-sm text-gray-700 dark:text-white break-all">{{ product.name }}</h3>
    <app-rating [review]="product.review || []" ></app-rating>
    <span class="block my-1.5 text-sm text-gray-400">{{ 'products.BY' | transloco }} {{ product.sallerName }}</span>
    @if (product.discountPercentage) {
        <span class="mt-1 text-sm text-gray-400 line-through">{{ calculateDiscount(product.price, product.discountPercentage) | currency }}</span>
    }
    <div class="w-full flex items-center justify-start">
        <p class="text-lg font-medium text-gray-900 dark:text-white">{{ product.price | currency }}</p>
        @if (product.discountPercentage) {
            <p class="ml-1 text-sm font-medium text-green-400">{{ product.discountPercentage }}% OFF</p>
        }
    </div>
</a>
