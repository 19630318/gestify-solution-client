import { Component, Input, signal } from '@angular/core';
import { CommonModule } from '@angular/common';
import { Product } from '@core/interfaces/product/product';
import { TypeFile } from '@core/interfaces/file/file';
import { ProductShoppingCartComponent } from '@componentsShared/product-shopping-cart/product-shopping-cart.component';
import { TranslocoModule } from '@jsverse/transloco';

@Component({
  selector: 'app-aside-shopping-cart',
  imports: [
    CommonModule,
    ProductShoppingCartComponent,
    TranslocoModule
  ],
  templateUrl: './aside-shopping-cart.component.html',
  styleUrl: './aside-shopping-cart.component.css'
})
export class AsideShoppingCartComponent {

  @Input() expanded: boolean = false;

  products = signal<Product[]>([
    {
    id: 1,
    createdAt: "2025-12-03T15:23:16.446034",
    updatedAt: null,
    deletedAt: null,
    createdBy: "Gestify solution server",
    updatedBy: null,
    deletedBy: null,
    name: "Gorgeous Silk Knife_34557057_1_1",
    description:
      "Pariatur optio dicta totam accusantium. Voluptatibus temporibus ratione ipsam numquam. Alias dignissimos dolorum expedita dignissimos odio assumenda architecto. Veritatis similique facilis nesciunt nam.",
    price: 47.34,
    active: true,
    category: {
      id: 2,
      createdAt: "2025-12-03T15:23:05.902277",
      updatedAt: null,
      deletedAt: null,
      createdBy: "Gestify solution server",
      updatedBy: null,
      deletedBy: null,
      name: "Grocery_45781826_1",
      description: "Magnam nulla rerum odio voluptas.",
      image: {
        id: 22,
        key: "product_category_2_1764775385273_d2d97b3197c64d13826ce360be39d7f3.png",
        name: "product_category_2",
        extension: "png",
        size: 2338.0,
        blurHash: "L0HEQVx@fQx@x@fQfQfQfQfQfQfQ",
        path: "/products/categories/images",
        url: "http://localhost:8080/api/v1/minio/images/products/categories/images/product_category_2_1764775385273_d2d97b3197c64d13826ce360be39d7f3.png",
        contentType: "image/png",
        bucket: "gestifysolution",
        createdAt: "2025-12-03T15:23:05.893375",
      },
    },
    images: [
      {
        id: 2,
        createdAt: "2025-12-03T15:23:16.521232",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: false,
        image: {
          id: 40,
          key: "product_image_3_1764775395168_abfb313f095f4db0b02eb202e1ca45de.png",
          name: "product_image_3",
          extension: "png",
          size: 3687.0,
          blurHash: "L0L%cxy8fQy8y8fQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_3_1764775395168_abfb313f095f4db0b02eb202e1ca45de.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:16.417622",
        },
      },
      {
        id: 3,
        createdAt: "2025-12-03T15:23:16.52279",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: false,
        image: {
          id: 36,
          key: "product_image_2_1764775394266_707f0c8153f4474088433bf7d3b4c83c.png",
          name: "product_image_2",
          extension: "png",
          size: 3688.0,
          blurHash: "L0HjacsnfQsnsnfQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_2_1764775394266_707f0c8153f4474088433bf7d3b4c83c.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:15.155815",
        },
      },
      {
        id: 1,
        createdAt: "2025-12-03T15:23:16.479091",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: true,
        image: {
          id: 32,
          key: "product_image_1_1764775392954_ce18f80eb8844baa876782706cf75d4e.png",
          name: "product_image_1",
          extension: "png",
          size: 3688.0,
          blurHash: "L05I;JkUfQkUkUfQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_1_1764775392954_ce18f80eb8844baa876782706cf75d4e.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:14.246627",
        },
      },
    ],
  },

  // ------------------- PRODUCTO 2 -------------------  
  {
    id: 2,
    createdAt: "2025-12-03T15:23:16.619184",
    updatedAt: null,
    deletedAt: null,
    createdBy: "Gestify solution server",
    updatedBy: null,
    deletedBy: null,
    name: "Heavy Duty Concrete Bottle_10155468_1_2",
    description:
      "Nostrum temporibus eum quam voluptatem ea mollitia. Harum non iste laborum modi blanditiis. Ducimus autem iste. Maxime eveniet voluptatibus. Maxime quas magnam eligendi rerum non facilis necessitatibus.",
    price: 76.46,
    active: true,
    category: {
      id: 3,
      createdAt: "2025-12-03T15:23:06.559305",
      updatedAt: null,
      deletedAt: null,
      createdBy: "Gestify solution server",
      updatedBy: null,
      deletedBy: null,
      name: "Games_73946170_2",
      description: "Eum doloremque perferendis quia culpa.",
      image: {
        id: 23,
        key: "product_category_3_1764775385934_f322af1a9f5043488dd0949fda7857ca.png",
        name: "product_category_3",
        extension: "png",
        size: 2337.0,
        blurHash: "L0E.sDtAfQtAtAfQfQfQfQfQfQfQ",
        path: "/products/categories/images",
        url: "http://localhost:8080/api/v1/minio/images/products/categories/images/product_category_3_1764775385934_f322af1a9f5043488dd0949fda7857ca.png",
        contentType: "image/png",
        bucket: "gestifysolution",
        createdAt: "2025-12-03T15:23:06.551904",
      },
    },
    images: [
      {
        id: 6,
        createdAt: "2025-12-03T15:23:16.625477",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: false,
        image: {
          id: 38,
          key: "product_image_2_1764775394340_05c19314a9d24c87a2e42e61438d4155.png",
          name: "product_image_2",
          extension: "png",
          size: 3689.0,
          blurHash: "L0KWGMx=fQx=x=fQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_2_1764775394340_05c19314a9d24c87a2e42e61438d4155.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:15.573674",
        },
      },
      {
        id: 4,
        createdAt: "2025-12-03T15:23:16.620624",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: true,
        image: {
          id: 34,
          key: "product_image_1_1764775392955_11fbb8015b0a4566a84720e6f346307f.png",
          name: "product_image_1",
          extension: "png",
          size: 3689.0,
          blurHash: "L0Fi=*t8fQt8t8fQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_1_1764775392955_11fbb8015b0a4566a84720e6f346307f.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:14.32729",
        },
      },
      {
        id: 5,
        createdAt: "2025-12-03T15:23:16.624429",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: false,
        image: {
          id: 41,
          key: "product_image_3_1764775395585_ec9c887cd9d941eea8e204e0e438bb6b.png",
          name: "product_image_3",
          extension: "png",
          size: 3689.0,
          blurHash: "L00BB:fofQfofofQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_3_1764775395585_ec9c887cd9d941eea8e204e0e438bb6b.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:16.605042",
        },
      },
    ],
  },

  // ------------------- PRODUCTO 3 -------------------  
  {
    id: 3,
    createdAt: "2025-12-03T15:23:16.982898",
    updatedAt: null,
    deletedAt: null,
    createdBy: "Gestify solution server",
    updatedBy: null,
    deletedBy: null,
    name: "Awesome Bronze Hat_98723559_1_3",
    description:
      "Optio quasi recusandae a provident voluptate reprehenderit repellendus. Sequi eos explicabo tempore cupiditate error at quas. Ipsa blanditiis rem omnis maiores assumenda molestiae doloremque. Unde quisquam adipisci quam illum est fugit. Accusantium reprehenderit delectus dicta fuga perspiciatis illum odio.",
    price: 12.72,
    active: true,
    category: {
      id: 6,
      createdAt: "2025-12-03T15:23:08.637721",
      updatedAt: null,
      deletedAt: null,
      createdBy: "Gestify solution server",
      updatedBy: null,
      deletedBy: null,
      name: "Automotive & Music_02232648_5",
      description: "Odit corporis facilis facere nesciunt nemo voluptate.",
      image: {
        id: 26,
        key: "product_category_6_1764775387969_e83ba24be040421c9c5419c2cebf2ca7.png",
        name: "product_category_6",
        extension: "png",
        size: 2339.0,
        blurHash: "L07.21offQofoffQfQfQfQfQfQfQ",
        path: "/products/categories/images",
        url: "http://localhost:8080/api/v1/minio/images/products/categories/images/product_category_6_1764775387969_e83ba24be040421c9c5419c2cebf2ca7.png",
        contentType: "image/png",
        bucket: "gestifysolution",
        createdAt: "2025-12-03T15:23:08.629932",
      },
    },
    images: [
      {
        id: 8,
        createdAt: "2025-12-03T15:23:16.985991",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: false,
        image: {
          id: 42,
          key: "product_image_3_1764775395540_878ff76b72344ac4a43f70e28623799d.png",
          name: "product_image_3",
          extension: "png",
          size: 3689.0,
          blurHash: "L06KL_kWfQkWkWfQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_3_1764775395540_878ff76b72344ac4a43f70e28623799d.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:16.97054",
        },
      },
      {
        id: 7,
        createdAt: "2025-12-03T15:23:16.984411",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: false,
        image: {
          id: 37,
          key: "product_image_2_1764775394313_0bc73ee5f74047f89d25ea73d751a585.png",
          name: "product_image_2",
          extension: "png",
          size: 3690.0,
          blurHash: "L0MiXgxcfQxcxcfQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_2_1764775394313_0bc73ee5f74047f89d25ea73d751a585.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:15.528719",
        },
      },
      {
        id: 9,
        createdAt: "2025-12-03T15:23:16.989546",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: true,
        image: {
          id: 33,
          key: "product_image_1_1764775392967_13b2c3b0c45d403789ffd812ffd5baf3.png",
          name: "product_image_1",
          extension: "png",
          size: 3689.0,
          blurHash: "L0OJ?$$$fQ$$$$fQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_1_1764775392967_13b2c3b0c45d403789ffd812ffd5baf3.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:14.285983",
        },
      },
    ],
  },

  // ------------------- PRODUCTO 4 -------------------
  {
    id: 4,
    createdAt: "2025-12-03T15:23:17.104637",
    updatedAt: null,
    deletedAt: null,
    createdBy: "Gestify solution server",
    updatedBy: null,
    deletedBy: null,
    name: "Durable Granite Plate_93733468_1_0",
    description:
      "Perspiciatis tempore eligendi accusantium dolor. Nihil veniam aut esse. Illo porro delectus.",
    price: 84.6,
    active: true,
    category: {
      id: 1,
      createdAt: "2025-12-03T15:23:05.230753",
      updatedAt: null,
      deletedAt: null,
      createdBy: "Gestify solution server",
      updatedBy: null,
      deletedBy: null,
      name: "Electronics_61938963_0",
      description:
        "Similique quos dolorum at laboriosam voluptatem similique.",
      image: {
        id: 21,
        key: "product_category_1_1764775384718_8583b241ed3d47438fb39cb665c27b30.png",
        name: "product_category_1",
        extension: "png",
        size: 2338.0,
        blurHash: "L0D09Ft4fQt4t4fQfQfQfQfQfQfQ",
        path: "/products/categories/images",
        url: "http://localhost:8080/api/v1/minio/images/products/categories/images/product_category_1_1764775384718_8583b241ed3d47438fb39cb665c27b30.png",
        contentType: "image/png",
        bucket: "gestifysolution",
        createdAt: "2025-12-03T15:23:05.219861",
      },
    },
    images: [
      {
        id: 12,
        createdAt: "2025-12-03T15:23:17.111299",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: false,
        image: {
          id: 43,
          key: "product_image_3_1764775395863_517c04377f1b4c17ae81c9a0a776db45.png",
          name: "product_image_3",
          extension: "png",
          size: 3690.0,
          blurHash: "L03TlVj]fQj]j]fQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_3_1764775395863_517c04377f1b4c17ae81c9a0a776db45.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:17.098546",
        },
      },
      {
        id: 11,
        createdAt: "2025-12-03T15:23:17.110396",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: true,
        image: {
          id: 35,
          key: "product_image_1_1764775392962_ab56f0dfe0b3486f8176aa397e0a71be.png",
          name: "product_image_1",
          extension: "png",
          size: 3688.0,
          blurHash: "L0OlNZ$jfQ$j$jfQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_1_1764775392962_ab56f0dfe0b3486f8176aa397e0a71be.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:14.355036",
        },
      },
      {
        id: 10,
        createdAt: "2025-12-03T15:23:17.107108",
        updatedAt: null,
        deletedAt: null,
        createdBy: "Gestify solution server",
        updatedBy: null,
        deletedBy: null,
        portrait: false,
        image: {
          id: 39,
          key: "product_image_2_1764775394379_4dd9990b984c4d6cbc95a54f488ff56d.png",
          name: "product_image_2",
          extension: "png",
          size: 3687.0,
          blurHash: "L07#W7kWfQkWkWfQfQfQfQfQfQfQ",
          path: "/products/images",
          url: "http://localhost:8080/api/v1/minio/images/products/images/product_image_2_1764775394379_4dd9990b984c4d6cbc95a54f488ff56d.png",
          contentType: "image/png",
          bucket: "gestifysolution",
          createdAt: "2025-12-03T15:23:15.853144",
        },
      },
    ],
  },
  ]);

  sumPriceProducts(): number {
    let sum = 0;
    this.products().forEach(product => {
      sum += product.price;
    });
    return sum;
  }

}
